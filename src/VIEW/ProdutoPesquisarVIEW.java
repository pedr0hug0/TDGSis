/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package VIEW;


import CTR.ImagePanel;
import dao.RelatorioDAO;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.image.BufferedImage;
import java.io.File;

import java.io.IOException;
import java.io.InputStream;
import java.net.URL;

import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.LocalTime;
import java.util.HashMap;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JRResultSetDataSource;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperPrintManager;
import net.sf.jasperreports.view.JasperViewer;


/**
 *
 * @author pedr0
 */
public class ProdutoPesquisarVIEW extends javax.swing.JFrame {

    /**
     * Creates new form ProdutoPesquisarVIEW
     */
    public ProdutoPesquisarVIEW() {
        initComponents();
        setExtendedState(MAXIMIZED_BOTH);
        
       
        
        

        
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jComboBox1 = new javax.swing.JComboBox();
        jButton5 = new javax.swing.JButton();
        jComboBox2 = new javax.swing.JComboBox();
        btn_rel_imprimir = new javax.swing.JButton();
        btn_relatorio = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        uJPanelImagem1 = new componentes.UJPanelImagem();
        jButton6 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jButton1.setText("jButton1");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setText("time");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setText("carregar teste2");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jButton4.setText("carregar teste2");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "-", "x.jpg", "300 (1).jpg", "300 (10).jpg", "300 (100).jpg", "300 (101).jpg", "300 (102).jpg", "300 (103).jpg", "300 (104).jpg", "300 (105).jpg", "300 (106).jpg", "300 (107).jpg", "300 (108).jpg", "300 (109).jpg", "300 (11).jpg", "300 (110).jpg", "300 (111).jpg", "300 (112).jpg", "300 (113).jpg", "300 (114).jpg", "300 (115).jpg", "300 (116).jpg", "300 (12).jpg", "300 (13).jpg", "300 (14).jpg", "300 (15).jpg", "300 (16).jpg", "300 (17).jpg", "300 (18).jpg", "300 (19).jpg", "300 (2).jpg", "300 (20).jpg", "300 (21).jpg", "300 (22).jpg", "300 (23).jpg", "300 (24).jpg", "300 (25).jpg", "300 (26).jpg", "300 (27).jpg", "300 (29).jpg", "300 (3).jpg", "300 (30).jpg", "300 (31).jpg", "300 (32).jpg", "300 (33).jpg", "300 (34).jpg", "300 (35).jpg", "300 (36).jpg", "300 (37).jpg", "300 (38).jpg", "300 (39).jpg", "300 (4).jpg", "300 (40).jpg", "300 (41).jpg", "300 (42).jpg", "300 (43).jpg", "300 (44).jpg", "300 (45).jpg", "300 (46).jpg", "300 (47).jpg", "300 (48).jpg", "300 (49).jpg", "300 (5).jpg", "300 (50).jpg", "300 (51).jpg", "300 (52).jpg", "300 (53).jpg", "300 (54).jpg", "300 (55).jpg", "300 (56).jpg", "300 (57).jpg", "300 (58).jpg", "300 (59).jpg", "300 (6).jpg", "300 (60).jpg", "300 (61).jpg", "300 (62).jpg", "300 (63).jpg", "300 (64).jpg", "300 (65).jpg", "300 (66).jpg", "300 (67).jpg", "300 (68).jpg", "300 (69).jpg", "300 (7).jpg", "300 (70).jpg", "300 (71).jpg", "300 (72).jpg", "300 (73).jpg", "300 (74).jpg", "300 (75).jpg", "300 (76).jpg", "300 (77).jpg", "300 (78).jpg", "300 (79).jpg", "300 (8).jpg", "300 (80).jpg", "300 (81).jpg", "300 (82).jpg", "300 (83).jpg", "300 (84).jpg", "300 (85).jpg", "300 (86).jpg", "300 (87).jpg", "300 (88).jpg", "300 (89).jpg", "300 (9).jpg", "300 (90).jpg", "300 (91).jpg", "300 (92).jpg", "300 (93).jpg", "300 (94).jpg", "300 (95).jpg", "300 (96).jpg", "300 (97).jpg", "300 (98).jpg", "300 (99).jpg" }));
        jComboBox1.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBox1ItemStateChanged(evt);
            }
        });
        jComboBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox1ActionPerformed(evt);
            }
        });

        jButton5.setText("Listar Arquivos");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        jComboBox2.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "-" }));

        btn_rel_imprimir.setText("relatorio imagem");
        btn_rel_imprimir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_rel_imprimirActionPerformed(evt);
            }
        });

        btn_relatorio.setText("relatorio_mostrar");
        btn_relatorio.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_relatorioActionPerformed(evt);
            }
        });

        uJPanelImagem1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        uJPanelImagem1.setAutoscrolls(true);
        uJPanelImagem1.setPreferredSize(new java.awt.Dimension(700, 600));

        javax.swing.GroupLayout uJPanelImagem1Layout = new javax.swing.GroupLayout(uJPanelImagem1);
        uJPanelImagem1.setLayout(uJPanelImagem1Layout);
        uJPanelImagem1Layout.setHorizontalGroup(
            uJPanelImagem1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 696, Short.MAX_VALUE)
        );
        uJPanelImagem1Layout.setVerticalGroup(
            uJPanelImagem1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 596, Short.MAX_VALUE)
        );

        jScrollPane1.setViewportView(uJPanelImagem1);

        jButton6.setText("carrega_imagem2()");
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jButton2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jButton3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jButton4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.Alignment.TRAILING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btn_rel_imprimir, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jButton5)
                        .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(btn_relatorio, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addComponent(jButton6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 546, Short.MAX_VALUE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton6)
                        .addGap(7, 7, 7)
                        .addComponent(btn_rel_imprimir)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btn_relatorio)
                        .addGap(41, 41, 41)
                        .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton5)
                        .addGap(0, 18, Short.MAX_VALUE))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        
        
        InputStream file = getClass().getResourceAsStream("/VIEW/17001.jpg" );
        
        BufferedImage imagem = null;
        try {
            
            //imagem = ImageIO.read(file).getSubimage(1, 1, jLabel1.getHeight(), jLabel1.getWidth());
            imagem = ImageIO.read(file).getSubimage(1, 1, 500, 500);
            imagem.getScaledInstance(10, 10,
            java.awt.Image.SCALE_SMOOTH);
            
            System.out.println("Altura: "+imagem.getHeight());
            
            System.out.println("Largura: "+imagem.getWidth());

        } catch (IOException ex) {
            Logger.getLogger(ProdutoPesquisarVIEW.class.getName()).log(Level.SEVERE, null, ex);
        }
        /*
       // creates output image
        BufferedImage outputImage = new BufferedImage(jLabel1.getWidth(),
                jLabel1.getHeight(), imagem.getType());
 
        // scales the input image to the output image
        Graphics2D g2d = outputImage.createGraphics();
        g2d.drawImage(imagem, 0, 0, jLabel1.getWidth(), jLabel1.getHeight(), null);
        g2d.dispose();
 
        // extracts extension of output file
        String formatName = outputImagePath.substring(outputImagePath
                .lastIndexOf(".") + 1);
 
        // writes to output file
       ImageIO.write(outputImage, formatName, new File(outputImagePath));
        */
       //jLabel1.setIcon(new javax.swing.ImageIcon(imagem));
        /*
       // creates output image
        BufferedImage outputImage = new BufferedImage(jLabel1.getWidth(),
                jLabel1.getHeight(), imagem.getType());
 
        // scales the input image to the output image
        Graphics2D g2d = outputImage.createGraphics();
        g2d.drawImage(imagem, 0, 0, jLabel1.getWidth(), jLabel1.getHeight(), null);
        g2d.dispose();
 
        // extracts extension of output file
        String formatName = outputImagePath.substring(outputImagePath
                .lastIndexOf(".") + 1);
 
        // writes to output file
       ImageIO.write(outputImage, formatName, new File(outputImagePath));
        */
       //jLabel1.setIcon(new javax.swing.ImageIcon(imagem));
        /*
       // creates output image
        BufferedImage outputImage = new BufferedImage(jLabel1.getWidth(),
                jLabel1.getHeight(), imagem.getType());
 
        // scales the input image to the output image
        Graphics2D g2d = outputImage.createGraphics();
        g2d.drawImage(imagem, 0, 0, jLabel1.getWidth(), jLabel1.getHeight(), null);
        g2d.dispose();
 
        // extracts extension of output file
        String formatName = outputImagePath.substring(outputImagePath
                .lastIndexOf(".") + 1);
 
        // writes to output file
       ImageIO.write(outputImage, formatName, new File(outputImagePath));
        */
       //jLabel1.setIcon(new javax.swing.ImageIcon(imagem));
        /*
       // creates output image
        BufferedImage outputImage = new BufferedImage(jLabel1.getWidth(),
                jLabel1.getHeight(), imagem.getType());
 
        // scales the input image to the output image
        Graphics2D g2d = outputImage.createGraphics();
        g2d.drawImage(imagem, 0, 0, jLabel1.getWidth(), jLabel1.getHeight(), null);
        g2d.dispose();
 
        // extracts extension of output file
        String formatName = outputImagePath.substring(outputImagePath
                .lastIndexOf(".") + 1);
 
        // writes to output file
       ImageIO.write(outputImage, formatName, new File(outputImagePath));
        */
       //jLabel1.setIcon(new javax.swing.ImageIcon(imagem));
       
        
        
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
       
        LocalTime time = LocalTime.of(23 , 11 ,10);
        
        System.out.println(time);
        LocalTime timeOutro = time.plusHours(2).plusMinutes(1).plusSeconds(1);
        System.out.println(timeOutro);
        
        LocalDateTime agora = LocalDateTime.now();
 
        LocalDate dataAgora = agora.toLocalDate();
        LocalTime timeAgora = agora.toLocalTime();

        System.out.println("Data Agora: "+dataAgora );
        System.out.println("Time Agora: "+timeAgora );
        
        String imagem = "\\\\pcestamparia\\D\\TDG 3000\\JPEG\\"+jComboBox1.getSelectedItem().toString();
        //usado em relatorio. 
        // E:\300 (1).jpg
        uJPanelImagem1.setImagem(new java.io.File(imagem));
        uJPanelImagem1.setSize(418, 606);
        
        paintComponents(getGraphics());
        
        
    }//GEN-LAST:event_jButton2ActionPerformed

    



 

   
    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        
        //funcionando
        //String imagem = getClass().getResource("/VIEW/17001.jpg").getFile();
        
        //String imagem = "\\\\pcestamparia\\D\\TDG 3000\\JPEG\\300 (4).jpg";
        
        String imagem = "\\\\pcestamparia\\D\\TDG 3000\\teste.jpg";


        //InputStream imagem = getClass().getResourceAsStream("/VIEW/17001.jpg");
        
        //setImagemFile(FileUtil.file(getClass().getResou'rce("/VIEW/17001.jpg").toString()));
        //uJPanelImagem1.setImagem(imagem);
        //C:\Users\pedr0\Dropbox\TDG\build\classes\VIEW\17001.jpg
        //uJPanelImagem1.setImagem(new java.io.File("C:\\Users\\pedr0\\Dropbox\\TDG\\build\\classes\\VIEW\\17001.jpg"));
        System.out.println("endeco tem que sair: C:\\\\Users\\\\pedr0\\\\Dropbox\\\\TDG\\\\build\\\\classes\\\\VIEW\\\\17001.jpg"
                + "\n Ta saindo: "+imagem.toString());
        
        uJPanelImagem1.setImagem(new java.io.File(imagem));
        uJPanelImagem1.setSize(418, 606);
        
        paint(getGraphics());
        
    }//GEN-LAST:event_jButton3ActionPerformed
    
    private ImagePanel imgPanel;
    
    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
        String imagem = "\\\\pcestamparia\\D\\TDG 3000\\teste2.jpg";
        
        imgPanel = new ImagePanel(imagem);
 
        imgPanel.setLayout(new FlowLayout());
        //Definir os tamanhos dos paineis de da frame para que a janela se ajuste
        //quando se altera a imagem.
        imgPanel.setSize(imgPanel.getWidth(), imgPanel.getHeight());
        imgPanel.setPreferredSize(new Dimension(imgPanel.getWidth(), imgPanel.getHeight()));
        
        
        
        
        imgPanel.setImage(imagem);
        
        imgPanel.setVisible(true);
        
        
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jComboBox1ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBox1ItemStateChanged
        // TODO add your handling code here:
      
    }//GEN-LAST:event_jComboBox1ItemStateChanged

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
        // TODO add your handling code here:
        carrega_imagem2();
    }//GEN-LAST:event_jComboBox1ActionPerformed

    private void carrega_imagem(){
        int x = uJPanelImagem1.getX()+30;
        int y = uJPanelImagem1.getY()+30;
        System.out.println("x = "+x+" y = "+y);
        int with = 418;//uJPanelImagem1.getWidth()+100;
        int height = 606;//uJPanelImagem1.getHeight()+100;
        uJPanelImagem1.setSize(418, 606);
        
        if (jComboBox1.getSelectedIndex()!=0){
        
        String imagem = "\\\\pcestamparia\\D\\TDG 3000\\JPEG\\"+jComboBox1.getSelectedItem().toString();
        
       
        uJPanelImagem1.setImagem(new java.io.File(imagem));
        uJPanelImagem1.paintComponent(getGraphics().create(x, y, with, height));
        
        }
    }
    
    private void carrega_imagem2(){
        
        int x = uJPanelImagem1.getX();
        int y = uJPanelImagem1.getY();
        System.out.println("x = "+x+" y = "+y);
        //int with =  506;//uJPanelImagem1.getWidth()+100;
        //int height = 733;//uJPanelImagem1.getHeight()+100;
        
        int with =  uJPanelImagem1.getWidth();
        int height = uJPanelImagem1.getHeight();
        
        uJPanelImagem1.setSize(with, height);
        
        //img_x = 735 , 606
        //506, 733
        if (jComboBox1.getSelectedIndex()!=0){
        
        String imagem = "\\\\pcestamparia\\D\\TDG 3000\\JPEG\\"+jComboBox1.getSelectedItem().toString();
        
       
        uJPanelImagem1.setImagem(new java.io.File(imagem));
        uJPanelImagem1.paintComponent(getGraphics().create(x, y, with, height));
        
        
        //uJPanelImagem1.repaint();
        paintComponents(getGraphics());
        //uJPanelImagem1.validate();
        }
    }
    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        // TODO add your handling code here:
        File arquivo = new File("\\\\pcestamparia\\D\\TDG 3000\\JPEG");   
        File[] file = arquivo.listFiles();   
    
        if(file != null){   
            int length = file.length;   
    
            for(int i = 0; i < length; ++i){   
                File f = file[i];   
              
                if(f.isFile()){   
                    
                    jComboBox1.addItem(f.getName());
                    System.out.println(f.getName());   
                }   
                  
                else if(f.isDirectory()){   
    
                      
                    System.out.println("Diretorio: " + f.getName());   
                }   
            }
        }
    }//GEN-LAST:event_jButton5ActionPerformed

    private void btn_rel_imprimirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_rel_imprimirActionPerformed
        // TODO add your handling code here:
       
        HashMap parametros = new HashMap();  
        RelatorioDAO dao = new RelatorioDAO();
        
        String ref = "\\\\"+TDG_SIS_VIEW.ip_servidor+"\\TDG_sis_prod\\JPEG\\"+TDG_SIS_VIEW.banco_selecionado+"\\"+jComboBox1.getSelectedItem().toString();
        String codigo = "3020";
        System.out.println("Caminho: "+ref);
        String corte = "DIV 1";
        
        parametros.put("arquivo", ref);
        parametros.put("codigo", codigo);
        parametros.put("corte", corte);
        parametros.put("grade", "1111");
        
        setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
        
        JRResultSetDataSource jrRS = new JRResultSetDataSource(dao.ficha_corte(ref,corte));  
        JasperPrint jasperPrint;  
       
        try {  
            //PEGANDO DO DIRETORIO MAZIN
            //jasperPrint = JasperFillManager.fillReport("\\\\"+TDG_SIS_VIEW.ip_servidor+"\\TDG_sis_prod\\relatorios\\"+TDG_SIS_VIEW.banco_selecionado+"\\n_pedido.jasper" , parametros, jrRS);  
            
            InputStream inputStream;
            
            
                inputStream = getClass().getResourceAsStream( "/relatorios_ireport/fichaCorte2.jasper" );
            
            
            
            jasperPrint = JasperFillManager.fillReport(inputStream, parametros, jrRS);  
           
            //IMPRIME DIRETO
            JasperPrintManager.printReport(jasperPrint,true);
           
        } catch (JRException ex) {  
            JOptionPane.showMessageDialog(null, "ERRO AO IMPRIMIR!\n"+ex);  
        }
        setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));
        
        
    }//GEN-LAST:event_btn_rel_imprimirActionPerformed

    private void btn_relatorioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_relatorioActionPerformed
        // TODO add your handling code here:
        HashMap parametros = new HashMap();  
        RelatorioDAO dao = new RelatorioDAO();
        
        String ref = "\\\\"+TDG_SIS_VIEW.ip_servidor+"\\TDG_sis_prod\\JPEG\\"+TDG_SIS_VIEW.banco_selecionado+"\\"+jComboBox1.getSelectedItem().toString();
        String codigo = "3020";
        System.out.println("Caminho: "+ref);
        String corte = "DIV 1";
        
        parametros.put("arquivo", ref);
        parametros.put("codigo", codigo);
        parametros.put("corte", corte);
        parametros.put("grade", "1111");
        setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
        
        
        
        
        JRResultSetDataSource jrRS = new JRResultSetDataSource(dao.ficha_corte(codigo,corte));  
        JasperPrint jasperPrint;  
       
        try {  
            //PEGANDO DO DIRETORIO MAZIN
            //jasperPrint = JasperFillManager.fillReport("\\\\"+TDG_SIS_VIEW.ip_servidor+"\\TDG_sis_prod\\relatorios\\"+TDG_SIS_VIEW.banco_selecionado+"\\n_pedido.jasper" , parametros, jrRS);  
            
            InputStream inputStream;
            
            inputStream = getClass().getResourceAsStream( "/relatorios_ireport/fichaCorte2.jasper" );
            
            
            jasperPrint = JasperFillManager.fillReport(inputStream, parametros, jrRS);  
            JasperViewer.viewReport(jasperPrint, false);  
        } catch (JRException ex) {  
            JOptionPane.showMessageDialog(null, ex);  
        }
        setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));  
        
    }//GEN-LAST:event_btn_relatorioActionPerformed

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        // TODO add your handling code here:
          carrega_imagem2();
    }//GEN-LAST:event_jButton6ActionPerformed

    
    
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ProdutoPesquisarVIEW.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ProdutoPesquisarVIEW.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ProdutoPesquisarVIEW.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ProdutoPesquisarVIEW.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new ProdutoPesquisarVIEW().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_rel_imprimir;
    private javax.swing.JButton btn_relatorio;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JComboBox jComboBox2;
    private javax.swing.JScrollPane jScrollPane1;
    private componentes.UJPanelImagem uJPanelImagem1;
    // End of variables declaration//GEN-END:variables
}
